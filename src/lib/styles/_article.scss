main.guide {
    display: grid;
    padding-block: 15vmin;
    grid-template-columns: 1fr auto 1fr;
    column-gap: 1rem;
    margin: auto;
    align-items: start;

    .toc {
        grid-column: 3;
        grid-row: 1;
        position: sticky;
        top: 1rem;
        margin-top: calc(15vmin + var(--space-2xl));
        margin-right: 1rem;
        width: fit-content;
        min-width: 30ch;

        &::before {
            content: "In this article";
            display: block;
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: bold;
            // text-transform: uppercase;
            border-bottom: 1px solid var(--surface2);
        }

        ol {
            gap: 0;
            list-style-type: none;
            padding-left: 1rem;
            margin: 0;
        }

        a {
            border: none;
        }
    }

    article {
        grid-column: 2;
        grid-row: 1;
        display: grid;
        grid-template-columns: 1fr min(50ch, calc(100% - 2rem)) 1fr;
        column-gap: 1rem;
        max-inline-size: 850px;
        margin: auto;
    }

    article>* {
        grid-column: 2;
    }

    .full-bleed,
    table {
        width: 100%;
        grid-column: 1 / -1;
    }

    p,
    aside {
        max-inline-size: unset;
    }

    :where(h2, h3, h4, h5, h6) {
        margin-block: var(--space-xl) 0;
    }

    header {
        padding-bottom: var(--space-2xl);
    }

    h1 {
        margin: 0;
        margin-bottom: 0.5rem;
    }

    header span {
        display: block;
        margin: 0;
        max-width: 50ch;
        font-size: 1.25rem;
        color: var(--accent);
    }

    img {
        width: 100%;
        object-fit: cover;
        margin: 1rem 0;
    }

    table img {
        width: unset;
    }

    :where(h2, h3, h4, h5, h6) {
        &:hover a {
            opacity: 1;
        }

        a {
            opacity: 0;
            border: none;
            margin-left: 0.25em;
            font-size: 0.8em;

            &::after {
                content: "\1f517";
            }
        }
    }
}

@media (max-width: 850px) {
    main.guide {
        grid-template-columns: 1fr;

        article {
            grid-column: 1;
        }

        .toc {
            display: none;
        }
    }
}