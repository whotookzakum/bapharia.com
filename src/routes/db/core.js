const e=Math.min,t=Math.max,r=Math.abs,o=setTimeout,n=(r,o,n)=>e(n,t(o,r)),s=e=>null!=e,c="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},l=e=>{let t,r;return(...o)=>(t||(t=!0,r=e(...o)),r)},a=-1,i=(e,t,r)=>{const o=r?"unshift":"push";for(let r=0;r<t;r++)e[o](a);return e},u=(e,t)=>{const r=e.t[t];return r===a?e.o:r},f=(t,r,o)=>{const n=t.t[r]===a;return t.t[r]=o,t.l=e(r,t.l),n},_=(e,t)=>{if(!e.i)return 0;if(e.l>=t)return e.u[t];e.l<0&&(e.u[0]=0,e.l=0);let r=e.l,o=e.u[r];for(;r<t;)o+=u(e,r),e.u[++r]=o;return e.l=t,o},h=(e,t,r)=>{for(;r>=0&&r<e.i;){const o=_(e,r);if(o<=t){if(o+u(e,r)>t)break;r++}else r--}return n(r,0,e.i-1)},d=(t,r,o)=>{const n=r-t.i;return t.l=o?-1:e(r-1,t.l),t.i=r,n>0?(i(t.u,n),i(t.t,n,o),t.o*n):(t.u.splice(n),(o?t.t.splice(0,-n):t.t.splice(n)).reduce(((e,r)=>e-(r===a?t.o:r)),0))},p="undefined"!=typeof window,m=()=>document.documentElement,g=/*#__PURE__*/l((()=>!!p&&"rtl"===getComputedStyle(m()).direction)),b=/*#__PURE__*/l((()=>/iP(hone|od|ad)/.test(navigator.userAgent))),v=/*#__PURE__*/l((()=>"scrollBehavior"in m().style)),w=0,S=(r,o,n,s,c)=>(1!==s&&(r-=t(0,n)),2!==s&&(o+=t(0,n)),[t(r,0),e(o,c-1)]),k=(e,t)=>t&&g()?-e:e,I=0,y=1,z=2,M=3,T=4,x=5,J=6,R=7,C=8,O=9,P=10,q=11,B=12,D=13,L=14,U=15,V=16,F=(l,p,m,g,w,S)=>{const F=((o,n=40,s=0,c,l=!1,p=0)=>{let m=!!s,g=[],v=0,w=0,S=0,k=0,I=0,y=0,z=0,M=0,T=m?[0,t(s-1,0)]:null,x=[0,0],J=0;const R=((e,t)=>({o:t,t:i([],e),i:e,l:-1,u:i([],e)}))(o,n),C=new Set,O=()=>w-p,P=t=>((t,r,o,n)=>{const s=h(t,r,e(o,t.i-1));return[s,h(t,r+n,s)]})(R,t,x[0],v),q=()=>(e=>e.i?_(e,e.i-1)+u(e,e.i-1):0)(R),B=e=>_(R,e)-I,D=e=>u(R,e),L=e=>{e&&(b()&&0!==z?I+=e:(k+=e,S++))};return{_:()=>g,h:()=>(e=>[[...e.t],e.o])(R),p:()=>y?x:(x=P(t(0,O()+I+k)),T?[e(x[0],T[0]),t(x[1],T[1])]:x),m:e=>R.t[e]===a,v:()=>!!T&&R.t.slice(t(0,T[0]-1),e(R.i-1,T[1]+1)+1).includes(a),S:B,k:D,I:()=>R.i,M:()=>w,T:()=>z,J:()=>v,R:()=>p,C:q,O:()=>S,P:()=>(y=k,k=0,[y,2===M]),q(e,t){const r=[e,t];return C.add(r),()=>{C.delete(r)}},B(e,o){let n,s,c=0;switch(e){case 1:{const e=y;y=0;const t=o-w,n=r(t);e&&n<r(e)+1||0!==M||(z=t<0?2:1),m&&(T=null,m=!1),w=o,c=4;const l=O();l>=-v&&l<=q()&&(c+=1,s=n>v);break}case 2:c=8,0!==z&&(n=!0,c+=1),z=0,M=0,T=null;break;case 3:{const e=o.filter((([e,t])=>R.t[e]!==t));if(!e.length)break;L(e.reduce(((e,[t,r])=>((2===M||(T?t<T[0]:B(t)+(0===z&&0===M?D(t):0)<O()))&&(e+=r-D(t)),e)),0));for(const[t,r]of e){const e=D(t),o=f(R,t,r);l&&(J+=r,o||(J-=e))}l&&v&&J>v&&(L(((e,r)=>{let o=0;const n=e.t.filter(((e,t)=>{const n=e!==a;return n&&t<r&&o++,n})),s=e.o;return e.l=-1,((e.o=(e=>{const t=(e=>[...e].sort(((e,t)=>e-t)))(e),r=e.length/2|0;return t.length%2==0?(t[r-1]+t[r])/2:t[r]})(n))-s)*t(r-o,0)})(R,x[0])),l=!1),c=3,s=!0;break}case 4:v!==o&&(v=o,c=3);break;case 5:o[1]?(L(d(R,o[0],!0)),M=2,c=1):d(R,o[0]);break;case 6:p=o;break;case 7:M=1;break;case 8:T=P(o),c=1}c&&(g=[],n&&I&&(k+=I,I=0,S++),C.forEach((([e,t])=>{c&e&&t(s)})))}}})(l,null!=p?p:40,void 0,0,!p),W=((e,t)=>{let r;const o=t?"width":"height",n=new WeakMap,c=(e=>{let t;return{D(r){var o,n;(t||(t=new(n=r,o=n.ownerDocument,o.defaultView).ResizeObserver(e))).observe(r)},L(e){t.unobserve(e)},U(){t&&t.disconnect()}}})((t=>{const c=[];for(const{target:l,contentRect:a}of t)if(l.offsetParent)if(l===r)e.B(4,a[o]);else{const e=n.get(l);s(e)&&c.push([e,a[o]])}c.length&&e.B(3,c)}));return{V(e){c.D(r=e)},F:(e,t)=>(n.set(e,t),c.D(e),()=>{n.delete(e),c.L(e)}),U:c.U}})(F,m),X=((e,t)=>{let r,l,a;const i=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",f=async(n,s)=>{if(!r)return void c((()=>f(n,s)));a&&a();const l=()=>{let t;return[new Promise(((e,r)=>{t=e,o(a=r,150)})),e.q(2,(()=>{t&&t()}))]};if(s&&v()){for(;e.B(8,n()),e.v();){const[e,t]=l();try{await e}catch(e){return}finally{t()}}r.scrollTo({[t?"left":"top"]:k(n(),t),behavior:"smooth"})}else for(;;){const[o,s]=l();try{r[i]=k(n(),t),e.B(7),await o}catch(e){return}finally{s()}}};return{D(n){r=n,l=((e,t,r,n,c)=>{const l=Date.now;let a=0,i=!1,u=!1,f=!1,_=!1;const h=(()=>{let t;const r=()=>{s(t)&&clearTimeout(t)},n=()=>{r(),t=o((()=>{t=null,(()=>{if(i||u)return i=!1,void h();f=!1,e.B(2)})()}),150)};return n.W=r,n})(),d=()=>{a=l(),f&&(_=!0),e.B(1,n()),h()},p=t=>{if(i||0===e.T()||t.ctrlKey)return;const o=l()-a;150>o&&50<o&&(r?t.deltaX:t.deltaY)&&(i=!0)},m=()=>{u=!0,f=_=!1},g=()=>{u=!1,b()&&(f=!0)};return t.addEventListener("scroll",d),t.addEventListener("wheel",p,{passive:!0}),t.addEventListener("touchstart",m,{passive:!0}),t.addEventListener("touchend",g,{passive:!0}),{U:()=>{t.removeEventListener("scroll",d),t.removeEventListener("wheel",p),t.removeEventListener("touchstart",m),t.removeEventListener("touchend",g),h.W()},X:()=>{const[t,o]=e.P();t&&(c(k(t,r),o,_),_=!1,o&&e.J()>e.C()&&e.B(1,n()))}}})(e,n,t,(()=>k(n[i],t)),((t,r,s)=>{if(s){const e=n.style,t=e[u];e[u]="hidden",o((()=>{e[u]=t}))}r?(n[i]=e.M()+t,a&&a()):n[i]+=t}))},U(){l&&l.U()},Y(e){f((()=>e))},j(t){t+=e.M(),f((()=>t))},A(t,{align:r,smooth:o,offset:s=0}={}){if(t=n(t,0,e.I()-1),"nearest"===r){const o=e.S(t),n=e.M();if(o<n)r="start";else{if(!(o+e.k(t)>n+e.J()))return;r="end"}}f((()=>s+e.R()+e.S(t)+("end"===r?e.k(t)-e.J():"center"===r?(e.k(t)-e.J())/2:0)),o)},X:()=>{l&&l.X()}}})(F,m),Y=F.q(1,(()=>{g(F._())})),j=F.q(4,(()=>{w(F.M())})),A=F.q(8,(()=>{S()}));return{[I]:e=>{W.V(e),X.D(e)},[y]:()=>{Y(),j(),A(),W.U(),X.U()},[z]:F.p,[M]:F.C,[T]:F.J,[x]:F.M,[J]:F.T,[R]:F.O,[C]:F.S,[O]:F.m,[P]:W.F,[q]:X.X,[B]:(e,t)=>{F.B(5,[e,t])},[D]:()=>(e=>t(e.C(),e.J()))(F),[L]:X.Y,[U]:X.j,[V]:X.A}};export{B as CHANGE_ITEM_LENGTH,q as FIX_SCROLL_JUMP,C as GET_ITEM_OFFSET,R as GET_JUMP_COUNT,z as GET_RANGE,J as GET_SCROLL_DIRECTION,x as GET_SCROLL_OFFSET,D as GET_SCROLL_SIZE,M as GET_TOTAL_SIZE,T as GET_VIEWPORT_SIZE,O as IS_ITEM_HIDDEN,P as OBSERVE_ITEM_RESIZE,I as ON_MOUNT,y as ON_UN_MOUNT,U as SCROLL_BY,w as SCROLL_IDLE,L as SCROLL_TO,V as SCROLL_TO_INDEX,F as createVirtualizer,S as getOverscanedRange,g as isRTLDocument};
